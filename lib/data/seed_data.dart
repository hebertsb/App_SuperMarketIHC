import 'dart:convert';
import '../data/local_db.dart';

Future<void> seedDatabase() async {
  final db = LocalDB();

  // Verificar si ya hay datos
  final existingStores = await db.query('stores');
  if (existingStores.isNotEmpty) {
    // Ya hay datos, no volver a insertar
    return;
  }

  // Seed stores
  final stores = [
    {
      'id': '1',
      'name': 'Hipermaxi',
      'logo': 'assets/images/hipermaxi_logo.png',
      'address': 'Av. Ballivián 1234',
      'phone': '+591 2 123456',
      'openHours': jsonEncode({'mon-fri': '8:00-22:00', 'sat-sun': '9:00-21:00'}),
      'rating': 4.5,
      'deliveryTime': 30,
      'deliveryFee': 15.0,
      'isOpen': 1,
      'categories': jsonEncode(['Frutas','Verduras','Carnes','Lácteos','Panadería']),
    },
    {
      'id': '2',
      'name': 'Ketal',
      'logo': 'assets/images/ketal_logo.png',
      'address': 'Av. 6 de Agosto 2222',
      'phone': '+591 2 234567',
      'openHours': jsonEncode({'mon-fri': '7:30-22:30', 'sat-sun': '8:00-22:00'}),
      'rating': 4.2,
      'deliveryTime': 25,
      'deliveryFee': 12.0,
      'isOpen': 1,
      'categories': jsonEncode(['Frutas','Verduras','Panadería','Bebidas','Snacks']),
    },
    {
      'id': '3',
      'name': 'Fidalga',
      'logo': 'assets/images/fidalga_logo.png',
      'address': 'Calle Comercio 567',
      'phone': '+591 2 345678',
      'openHours': jsonEncode({'mon-fri': '8:00-21:00', 'sat-sun': '9:00-20:00'}),
      'rating': 4.0,
      'deliveryTime': 35,
      'deliveryFee': 18.0,
      'isOpen': 0,
      'categories': jsonEncode(['Carnes','Pollo','Embutidos']),
    },
    {
      'id': '4',
      'name': 'IC Norte',
      'logo': 'assets/images/icnorte_logo.png',
      'address': 'Av. 14 de Septiembre 4567',
      'phone': '+591 2 456789',
      'openHours': jsonEncode({'mon-fri': '7:00-23:00', 'sat-sun': '7:00-23:00'}),
      'rating': 4.3,
      'deliveryTime': 28,
      'deliveryFee': 10.0,
      'isOpen': 1,
      'categories': jsonEncode(['Frutas','Verduras','Carnes','Lácteos','Bebidas','Limpieza']),
    },
    {
      'id': '5',
      'name': 'Supermercado Familiar',
      'logo': 'assets/images/familiar_logo.png',
      'address': 'Calle Murillo 890',
      'phone': '+591 2 567890',
      'openHours': jsonEncode({'mon-fri': '8:00-20:00', 'sat-sun': '9:00-19:00'}),
      'rating': 4.1,
      'deliveryTime': 40,
      'deliveryFee': 20.0,
      'isOpen': 1,
      'categories': jsonEncode(['Frutas','Verduras','Abarrotes','Bebidas']),
    },
  ];

  for (final s in stores) {
    await db.insert('stores', s);
  }

  // Seed products
  final products = [
    // Hipermaxi - Frutas
    {
      'id': '1',
      'storeId': '1',
      'name': 'Manzana Roja',
      'description': 'Manzanas rojas frescas del valle',
      'price': 12.50,
      'originalPrice': 15.00,
      'images': jsonEncode(['assets/images/apple.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 50,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 25,
    },
    {
      'id': '2',
      'storeId': '1',
      'name': 'Plátano',
      'description': 'Plátanos maduros del trópico',
      'price': 6.50,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/banana.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 40,
      'isAvailable': 1,
      'rating': 4.3,
      'reviewCount': 30,
    },
    {
      'id': '3',
      'storeId': '1',
      'name': 'Naranja',
      'description': 'Naranjas jugosas para jugo',
      'price': 8.00,
      'originalPrice': 10.00,
      'images': jsonEncode(['assets/images/orange.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 35,
      'isAvailable': 1,
      'rating': 4.6,
      'reviewCount': 22,
    },
    {
      'id': '4',
      'storeId': '1',
      'name': 'Papaya',
      'description': 'Papaya madura y dulce',
      'price': 9.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/papaya.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 20,
      'isAvailable': 1,
      'rating': 4.4,
      'reviewCount': 18,
    },
    
    // Hipermaxi - Verduras
    {
      'id': '5',
      'storeId': '1',
      'name': 'Tomate',
      'description': 'Tomates frescos del altiplano',
      'price': 8.00,
      'originalPrice': 10.00,
      'images': jsonEncode(['assets/images/tomato.jpg']),
      'category': 'Verduras',
      'unit': 'kg',
      'stock': 25,
      'isAvailable': 1,
      'rating': 4.0,
      'reviewCount': 12,
    },
    {
      'id': '6',
      'storeId': '1',
      'name': 'Lechuga',
      'description': 'Lechuga crespa fresca',
      'price': 4.50,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/lettuce.jpg']),
      'category': 'Verduras',
      'unit': 'unidad',
      'stock': 30,
      'isAvailable': 1,
      'rating': 4.2,
      'reviewCount': 15,
    },
    {
      'id': '7',
      'storeId': '1',
      'name': 'Zanahoria',
      'description': 'Zanahorias frescas del valle',
      'price': 5.50,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/carrot.jpg']),
      'category': 'Verduras',
      'unit': 'kg',
      'stock': 40,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 20,
    },
    {
      'id': '8',
      'storeId': '1',
      'name': 'Cebolla',
      'description': 'Cebolla blanca de calidad',
      'price': 6.00,
      'originalPrice': 7.50,
      'images': jsonEncode(['assets/images/onion.jpg']),
      'category': 'Verduras',
      'unit': 'kg',
      'stock': 35,
      'isAvailable': 1,
      'rating': 4.1,
      'reviewCount': 10,
    },
    
    // Hipermaxi - Lácteos
    {
      'id': '9',
      'storeId': '1',
      'name': 'Leche Entera',
      'description': 'Leche fresca entera 1L',
      'price': 8.50,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/milk.jpg']),
      'category': 'Lácteos',
      'unit': 'litro',
      'stock': 30,
      'isAvailable': 1,
      'rating': 4.2,
      'reviewCount': 18,
    },
    {
      'id': '10',
      'storeId': '1',
      'name': 'Yogurt Natural',
      'description': 'Yogurt natural cremoso 1L',
      'price': 12.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/yogurt.jpg']),
      'category': 'Lácteos',
      'unit': 'litro',
      'stock': 25,
      'isAvailable': 1,
      'rating': 4.7,
      'reviewCount': 35,
    },
    {
      'id': '11',
      'storeId': '1',
      'name': 'Queso Mantecoso',
      'description': 'Queso mantecoso artesanal',
      'price': 45.00,
      'originalPrice': 50.00,
      'images': jsonEncode(['assets/images/cheese.jpg']),
      'category': 'Lácteos',
      'unit': 'kg',
      'stock': 15,
      'isAvailable': 1,
      'rating': 4.8,
      'reviewCount': 28,
    },
    
    // Hipermaxi - Carnes
    {
      'id': '12',
      'storeId': '1',
      'name': 'Carne de Res',
      'description': 'Carne de res fresca para guisar',
      'price': 45.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/beef.jpg']),
      'category': 'Carnes',
      'unit': 'kg',
      'stock': 20,
      'isAvailable': 1,
      'rating': 4.6,
      'reviewCount': 40,
    },
    {
      'id': '13',
      'storeId': '1',
      'name': 'Pollo Entero',
      'description': 'Pollo fresco entero',
      'price': 28.00,
      'originalPrice': 32.00,
      'images': jsonEncode(['assets/images/chicken.jpg']),
      'category': 'Carnes',
      'unit': 'kg',
      'stock': 18,
      'isAvailable': 1,
      'rating': 4.4,
      'reviewCount': 32,
    },
    
    // Hipermaxi - Panadería
    {
      'id': '14',
      'storeId': '1',
      'name': 'Pan Integral',
      'description': 'Pan integral artesanal',
      'price': 6.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/bread.jpg']),
      'category': 'Panadería',
      'unit': 'unidad',
      'stock': 15,
      'isAvailable': 1,
      'rating': 4.8,
      'reviewCount': 42,
    },
    {
      'id': '15',
      'storeId': '1',
      'name': 'Marraqueta',
      'description': 'Pan marraqueta tradicional',
      'price': 0.50,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/marraqueta.jpg']),
      'category': 'Panadería',
      'unit': 'unidad',
      'stock': 100,
      'isAvailable': 1,
      'rating': 4.9,
      'reviewCount': 65,
    },
    
    // Ketal - Frutas
    {
      'id': '16',
      'storeId': '2',
      'name': 'Manzana Verde',
      'description': 'Manzanas verdes ácidas',
      'price': 13.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/green_apple.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 30,
      'isAvailable': 1,
      'rating': 4.3,
      'reviewCount': 18,
    },
    {
      'id': '17',
      'storeId': '2',
      'name': 'Uva',
      'description': 'Uvas rojas sin semilla',
      'price': 18.00,
      'originalPrice': 22.00,
      'images': jsonEncode(['assets/images/grapes.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 25,
      'isAvailable': 1,
      'rating': 4.7,
      'reviewCount': 30,
    },
    {
      'id': '18',
      'storeId': '2',
      'name': 'Frutilla',
      'description': 'Frutillas frescas del valle',
      'price': 25.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/strawberry.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 15,
      'isAvailable': 1,
      'rating': 4.8,
      'reviewCount': 45,
    },
    
    // Ketal - Verduras
    {
      'id': '19',
      'storeId': '2',
      'name': 'Brócoli',
      'description': 'Brócoli fresco y verde',
      'price': 10.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/broccoli.jpg']),
      'category': 'Verduras',
      'unit': 'kg',
      'stock': 20,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 22,
    },
    {
      'id': '20',
      'storeId': '2',
      'name': 'Papa',
      'description': 'Papa blanca del altiplano',
      'price': 4.00,
      'originalPrice': 5.00,
      'images': jsonEncode(['assets/images/potato.jpg']),
      'category': 'Verduras',
      'unit': 'kg',
      'stock': 50,
      'isAvailable': 1,
      'rating': 4.2,
      'reviewCount': 38,
    },
    
    // Ketal - Bebidas
    {
      'id': '21',
      'storeId': '2',
      'name': 'Coca Cola 2L',
      'description': 'Refresco Coca Cola 2 litros',
      'price': 10.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/coke.jpg']),
      'category': 'Bebidas',
      'unit': 'unidad',
      'stock': 40,
      'isAvailable': 1,
      'rating': 4.6,
      'reviewCount': 50,
    },
    {
      'id': '22',
      'storeId': '2',
      'name': 'Jugo de Naranja',
      'description': 'Jugo natural de naranja 1L',
      'price': 15.00,
      'originalPrice': 18.00,
      'images': jsonEncode(['assets/images/orange_juice.jpg']),
      'category': 'Bebidas',
      'unit': 'litro',
      'stock': 25,
      'isAvailable': 1,
      'rating': 4.7,
      'reviewCount': 35,
    },
    
    // Ketal - Snacks
    {
      'id': '23',
      'storeId': '2',
      'name': 'Papas Fritas Pringles',
      'description': 'Papas Pringles sabor original',
      'price': 18.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/chips.jpg']),
      'category': 'Snacks',
      'unit': 'unidad',
      'stock': 30,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 28,
    },
    {
      'id': '24',
      'storeId': '2',
      'name': 'Galletas Oreo',
      'description': 'Galletas Oreo chocolate',
      'price': 12.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/oreo.jpg']),
      'category': 'Snacks',
      'unit': 'paquete',
      'stock': 35,
      'isAvailable': 1,
      'rating': 4.8,
      'reviewCount': 55,
    },
    
    // Ketal - Panadería
    {
      'id': '25',
      'storeId': '2',
      'name': 'Pan Frances',
      'description': 'Pan francés crujiente',
      'price': 1.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/french_bread.jpg']),
      'category': 'Panadería',
      'unit': 'unidad',
      'stock': 50,
      'isAvailable': 1,
      'rating': 4.6,
      'reviewCount': 40,
    },
    
    // Fidalga - Carnes
    {
      'id': '26',
      'storeId': '3',
      'name': 'Carne de Cerdo',
      'description': 'Carne de cerdo para asado',
      'price': 38.00,
      'originalPrice': 42.00,
      'images': jsonEncode(['assets/images/pork.jpg']),
      'category': 'Carnes',
      'unit': 'kg',
      'stock': 15,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 25,
    },
    {
      'id': '27',
      'storeId': '3',
      'name': 'Chorizo Parrillero',
      'description': 'Chorizo especial para parrilla',
      'price': 35.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/sausage.jpg']),
      'category': 'Embutidos',
      'unit': 'kg',
      'stock': 20,
      'isAvailable': 1,
      'rating': 4.7,
      'reviewCount': 42,
    },
    
    // Fidalga - Pollo
    {
      'id': '28',
      'storeId': '3',
      'name': 'Pechuga de Pollo',
      'description': 'Pechuga de pollo sin hueso',
      'price': 32.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/chicken_breast.jpg']),
      'category': 'Pollo',
      'unit': 'kg',
      'stock': 18,
      'isAvailable': 1,
      'rating': 4.6,
      'reviewCount': 35,
    },
    {
      'id': '29',
      'storeId': '3',
      'name': 'Muslos de Pollo',
      'description': 'Muslos de pollo frescos',
      'price': 25.00,
      'originalPrice': 28.00,
      'images': jsonEncode(['assets/images/chicken_thigh.jpg']),
      'category': 'Pollo',
      'unit': 'kg',
      'stock': 22,
      'isAvailable': 1,
      'rating': 4.4,
      'reviewCount': 30,
    },
    
    // IC Norte - Productos variados
    {
      'id': '30',
      'storeId': '4',
      'name': 'Sandía',
      'description': 'Sandía dulce y jugosa',
      'price': 5.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/watermelon.jpg']),
      'category': 'Frutas',
      'unit': 'kg',
      'stock': 25,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 28,
    },
    {
      'id': '31',
      'storeId': '4',
      'name': 'Detergente Ace',
      'description': 'Detergente en polvo 1kg',
      'price': 20.00,
      'originalPrice': 25.00,
      'images': jsonEncode(['assets/images/detergent.jpg']),
      'category': 'Limpieza',
      'unit': 'kg',
      'stock': 30,
      'isAvailable': 1,
      'rating': 4.3,
      'reviewCount': 20,
    },
    {
      'id': '32',
      'storeId': '4',
      'name': 'Agua Mineral Vital',
      'description': 'Agua mineral sin gas 2L',
      'price': 6.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/water.jpg']),
      'category': 'Bebidas',
      'unit': 'botella',
      'stock': 50,
      'isAvailable': 1,
      'rating': 4.7,
      'reviewCount': 45,
    },
    
    // Supermercado Familiar
    {
      'id': '33',
      'storeId': '5',
      'name': 'Arroz Extra',
      'description': 'Arroz blanco de calidad 1kg',
      'price': 8.50,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/rice.jpg']),
      'category': 'Abarrotes',
      'unit': 'kg',
      'stock': 40,
      'isAvailable': 1,
      'rating': 4.4,
      'reviewCount': 32,
    },
    {
      'id': '34',
      'storeId': '5',
      'name': 'Fideo Spaguetti',
      'description': 'Fideo spaguetti 500g',
      'price': 7.00,
      'originalPrice': 8.00,
      'images': jsonEncode(['assets/images/pasta.jpg']),
      'category': 'Abarrotes',
      'unit': 'paquete',
      'stock': 35,
      'isAvailable': 1,
      'rating': 4.2,
      'reviewCount': 25,
    },
    {
      'id': '35',
      'storeId': '5',
      'name': 'Aceite Vegetal',
      'description': 'Aceite vegetal 1L',
      'price': 16.00,
      'originalPrice': null,
      'images': jsonEncode(['assets/images/oil.jpg']),
      'category': 'Abarrotes',
      'unit': 'litro',
      'stock': 28,
      'isAvailable': 1,
      'rating': 4.5,
      'reviewCount': 30,
    },
  ];

  for (final p in products) {
    await db.insert('products', p);
  }
}
